<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Przedmioty</title>
</head>
<body>
    <h1>Przedmioty</h1>
    <table border="1" cellpadding="10" xmlns:th="http://www.w3.org/1999/xhtml">
        <thead>
        <tr>
            <th>ID</th>
            <th>Nazwa</th>
            <th> </th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="c : ${courses}">
            <td th:text="${c.courseId}">ID</td>
            <td th:text="${c.name}">Nazwa</td>
            <td>
                <button type="button" th:onclick="'deleteCourse(' + ${c.courseId} + ')'">Usu≈Ñ</button>
            </td>
        </tr>
        </tbody>
    </table>

    <h2>Dodawanie przedmiotu</h2>
    <form action="/add_course" method="post">
        <label for="courseName">Nazwa przedmiotu:</label>
        <input type="text" id="courseName" name="courseName" required>

        <button type="submit" onclick="updateCourseAction()">Dodaj przedmiot</button>
    </form>

    <br>
    <br>
    <button onclick="redirectToStudents()">Studenci</button>

    <script>
        function deleteCourse(courseId) {
            window.location.href = "/delete_course/" + courseId;
        }
        function updateCourseAction() {
            var courseName = document.getElementById("courseName").value;
            var form = document.querySelector("form");
            form.action = "/add_course/" + encodeURIComponent(courseName);
        }
        function redirectToStudents() {
            window.location.href = "/students";
        }
    </script>
</body>
</html>
